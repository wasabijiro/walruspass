# SDK Documentation

## Modules
- [Me](#me)
- [Api-key](#api-key)
- [File](#file)
- [Folder](#folder)
- [Vault](#vault)
- [Zip](#zip)
- [Storage](#storage)

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Me

*   [get][1]
*   [update][2]
    *   [Parameters][3]
*   [setupPassword][4]
    *   [Parameters][5]
*   [changePassword][6]
    *   [Parameters][7]
*   [backupPassword][8]
    *   [Parameters][9]
*   [resetPassword][10]
    *   [Parameters][11]
*   [hasEncryptionSession][12]
*   [clearEncryptionSession][13]
*   [importEncryptionSessionFromPassword][14]
    *   [Parameters][15]
*   [importEncryptionSessionFromKeystore][16]

## get

Get currently authenticated user

Returns **[Promise][17]\<User>**&#x20;

## update

Update currently authenticated user

### Parameters

*   `input` **UserMutable**&#x20;

Returns **[Promise][17]\<User>**&#x20;

## setupPassword

Setup user password

### Parameters

*   `password` **[string][18]**&#x20;

## changePassword

Change user password\
Decrypt user private key with the old password\
Encrypt user private key with the new password

### Parameters

*   `oldPassword` **[string][18]**&#x20;
*   `newPassword` **[string][18]**&#x20;

Returns **[Promise][17]\<User>**&#x20;

## backupPassword

Backup user password\
Generate fresh backup phrase & use it as a backup

### Parameters

*   `password` **[string][18]**&#x20;

## resetPassword

Reset user password\
Recover user private key using the backup phrase\
Encrypt user private key with the new password

### Parameters

*   `backupPhrase` **[string][18]**&#x20;
*   `newPassword` **[string][18]**&#x20;

Returns **[Promise][17]\<User>**&#x20;

## hasEncryptionSession

Check whether the user has ongoing encryption session

Returns **[Promise][17]<[boolean][19]>**&#x20;

## clearEncryptionSession

Clear encryption session from the client storage

## importEncryptionSessionFromPassword

Import encryption session from password

### Parameters

*   `password` **[string][18]**&#x20;

Returns **[Promise][17]<{keypair: X25519KeyPair}>**&#x20;

## importEncryptionSessionFromKeystore

Import encryption session from keystore, if present

Returns **[Promise][17]<{keypair: X25519KeyPair}>**&#x20;

[1]: #get

[2]: #update

[3]: #parameters

[4]: #setuppassword

[5]: #parameters-1

[6]: #changepassword

[7]: #parameters-2

[8]: #backuppassword

[9]: #parameters-3

[10]: #resetpassword

[11]: #parameters-4

[12]: #hasencryptionsession

[13]: #clearencryptionsession

[14]: #importencryptionsessionfrompassword

[15]: #parameters-5

[16]: #importencryptionsessionfromkeystore

[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Api-key

*   [listAll][1]
*   [list][2]
*   [generate][3]
*   [revoke][4]
    *   [Parameters][5]
    *   [Examples][6]

## listAll

List all user api keys

Returns **[Promise][7]<[Array][8]\<ApiKey>>**&#x20;

## list

List paginated user api keys

Returns **[Promise][7]\<Paginated\<ApiKey>>**&#x20;

## generate

Generate new api key

Returns **[Promise][7]\<ApiKey>**&#x20;

## revoke

Revoke existing api key

### Parameters

*   `key` **[string][9]** existing api key value

### Examples

```javascript
// list all user api keys
const apiKeys = await tuksy.apiKey.listAll();
// revoke the first one
await tusky.apiKey.revoke(apiKeys[0].key);
```

Returns **[Promise][7]\<ApiKey>**&#x20;

[1]: #listall

[2]: #list

[3]: #generate

[4]: #revoke

[5]: #parameters

[6]: #examples

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[9]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# File

*   [uploader][1]
    *   [Parameters][2]
    *   [Examples][3]
*   [upload][4]
    *   [Parameters][5]
*   [get][6]
    *   [Parameters][7]
*   [list][8]
    *   [Parameters][9]
*   [listAll][10]
    *   [Parameters][11]
*   [rename][12]
    *   [Parameters][13]
*   [move][14]
    *   [Parameters][15]
*   [delete][16]
    *   [Parameters][17]
*   [restore][18]
    *   [Parameters][19]
*   [deletePermanently][20]
    *   [Parameters][21]
*   [subscribe][22]
    *   [Parameters][23]
    *   [Examples][24]

## uploader

Generate preconfigured Tus uploader

### Parameters

*   `vaultId` **[string][25]**&#x20;
*   `file` **FileSource** Nodejs: Buffer | Readable | string (path) | ArrayBuffer | Uint8Array
    Browser: File | Blob | Uint8Array | ArrayBuffer (optional, default `null`)
*   `options` **FileUploadOptions** parent id, file name file mime type, etc (optional, default `{}`)

### Examples

```javascript
// use in Browser with Uppy upload

const uploader = tusky.zip.uploader(vaultId);

const uppy = new Uppy({
   restrictions: {
     allowedFileTypes: ['.zip', 'application/zip', 'application/x-zip-compressed'],
     maxFileSize: 1000000000,
   },
   autoProceed: false
 })
 .use(Tus, uploader.options);

uppy.addFile(file);
uppy.upload();
```

```javascript
// use in Nodejs

const uploader = tusky.zip.uploader(vaultId, file, {
   onSuccess: () => {
     console.log('Upload complete');
   },
   onError: (error) => {
     console.log('Upload error', error);
   },
   onProgress: (progress) => {
     console.log('Upload progress', progress);
   }
});

uploader.start();
```

Returns **[Promise][26]<[Promise][26]\<tus.Upload>>** Promise with tus.Upload instance

## upload

Upload file

### Parameters

*   `vaultId` **[string][25]**&#x20;
*   `file` **FileSource** Nodejs: Buffer | Readable | string (path) | ArrayBuffer | Uint8Array
    Browser: File | Blob | Uint8Array | ArrayBuffer
*   `options` **FileUploadOptions** parent id, file name file mime type, etc. (optional, default `{}`)

Returns **[Promise][26]<[string][25]>** Promise with upload id

## get

### Parameters

*   `id` **[string][25]**&#x20;
*   `options`   (optional, default `this.defaultGetOptions`)

Returns **[Promise][26]\<File>**&#x20;

## list

### Parameters

*   `options` **ListOptions**  (optional, default `this.defaultListOptions=this.defaultListOptions`)

Returns **[Promise][26]\<Paginated\<File>>** Promise with paginated user files

## listAll

### Parameters

*   `options` **ListOptions**  (optional, default `this.defaultListOptions`)

Returns **[Promise][26]<[Array][27]\<File>>** Promise with all user files

## rename

### Parameters

*   `id` **[string][25]** file id
*   `name` **[string][25]** new name

Returns **[Promise][26]\<File>**&#x20;

## move

### Parameters

*   `id` **[string][25]**&#x20;
*   `parentId` **[string][25]?** new parent folder id, if no parent id provided will be moved to the vault root.

Returns **[Promise][26]\<File>**&#x20;

## delete

The file will be moved to the trash. The file will be permanently deleted within 30 days.
To undo this action, call file.restore() within the 30-day period.

### Parameters

*   `id` **[string][25]** file id

Returns **[Promise][26]\<File>**&#x20;

## restore

Restores the file from the trash.
This action must be performed within 30 days of the file being moved to the trash to prevent permanent deletion.

### Parameters

*   `id` **[string][25]** file id

Returns **[Promise][26]\<File>**&#x20;

## deletePermanently

The file will be permanently deleted.
This action is irrevocable and can only be performed if the file is already in trash.

### Parameters

*   `id` **[string][25]** file id

Returns **[Promise][26]\<void>**&#x20;

## subscribe

Subscribe to file create/update events.

### Parameters

*   `vaultId` **[string][25]**&#x20;
*   `onSuccess` &#x20;
*   `onError` &#x20;

### Examples

```javascript
// To unsubscribe:
const subscription = await tusky.file.subscribe(vaultId, onSuccess, onError);
subscription.unsubscribe();
```

Returns **Subscription**&#x20;

[1]: #uploader

[2]: #parameters

[3]: #examples

[4]: #upload

[5]: #parameters-1

[6]: #get

[7]: #parameters-2

[8]: #list

[9]: #parameters-3

[10]: #listall

[11]: #parameters-4

[12]: #rename

[13]: #parameters-5

[14]: #move

[15]: #parameters-6

[16]: #delete

[17]: #parameters-7

[18]: #restore

[19]: #parameters-8

[20]: #deletepermanently

[21]: #parameters-9

[22]: #subscribe

[23]: #parameters-10

[24]: #examples-1

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[27]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Folder

*   [create][1]
    *   [Parameters][2]
*   [upload][3]
    *   [Parameters][4]
*   [get][5]
    *   [Parameters][6]
*   [list][7]
    *   [Parameters][8]
*   [listAll][9]
    *   [Parameters][10]
*   [rename][11]
    *   [Parameters][12]
*   [move][13]
    *   [Parameters][14]
*   [delete][15]
    *   [Parameters][16]
*   [restore][17]
    *   [Parameters][18]
*   [deletePermanently][19]
    *   [Parameters][20]

## create

### Parameters

*   `vaultId` **[string][21]**&#x20;
*   `name` **[string][21]** folder name
*   `options`   (optional, default `this.defaultCreateOptions`)

Returns **[Promise][22]\<Folder>** Promise with new folder

## upload

Upload folder with its content from given source

### Parameters

*   `vaultId` **[string][21]**&#x20;
*   `folder` **FolderSource** folder source: folder path, file system entry
*   `options` **FolderCreateOptions?** parent id, etc. (optional, default `this.defaultCreateOptions`)

Returns **[Promise][22]\<Folder>** Promise with new folder

## get

### Parameters

*   `id` **[string][21]**&#x20;
*   `options`   (optional, default `this.defaultGetOptions`)

Returns **[Promise][22]\<Folder>** Promise with the folder object

## list

### Parameters

*   `options` **ListOptions**  (optional, default `this.defaultListOptions`)

Returns **[Promise][22]\<Paginated\<Folder>>** Promise with paginated user folders

## listAll

### Parameters

*   `options` **ListOptions**  (optional, default `this.defaultListOptions`)

Returns **[Promise][22]<[Array][23]\<Folder>>** Promise with all user folders

## rename

### Parameters

*   `id` **[string][21]** folder id
*   `name` **[string][21]** new name

Returns **[Promise][22]\<Folder>**&#x20;

## move

### Parameters

*   `id` **[string][21]**&#x20;
*   `parentId` **[string][21]?** new parent folder id, if no parent id provided will be moved to the vault root.

Returns **[Promise][22]\<Folder>**&#x20;

## delete

The folder will be moved to the trash. All folder contents will be permanently deleted within 30 days.\
To undo this action, call folder.restore() within the 30-day period.

### Parameters

*   `id` **[string][21]** folder id

Returns **[Promise][22]\<Folder>**&#x20;

## restore

Restores the folder from the trash, recovering all folder contents.\
This action must be performed within 30 days of the folder being moved to the trash to prevent permanent deletion.

### Parameters

*   `id` **[string][21]** folder id

Returns **[Promise][22]\<Folder>**&#x20;

## deletePermanently

The folder and all its contents will be permanently deleted.\
This action is irrevocable and can only be performed if the folder is already in trash.

### Parameters

*   `id` **[string][21]** folder id

Returns **[Promise][22]\<void>**&#x20;

[1]: #create

[2]: #parameters

[3]: #upload

[4]: #parameters-1

[5]: #get

[6]: #parameters-2

[7]: #list

[8]: #parameters-3

[9]: #listall

[10]: #parameters-4

[11]: #rename

[12]: #parameters-5

[13]: #move

[14]: #parameters-6

[15]: #delete

[16]: #parameters-7

[17]: #restore

[18]: #parameters-8

[19]: #deletepermanently

[20]: #parameters-9

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Vault

*   [get][1]
    *   [Parameters][2]
*   [list][3]
    *   [Parameters][4]
*   [listAll][5]
    *   [Parameters][6]
*   [create][7]
    *   [Parameters][8]
*   [rename][9]
    *   [Parameters][10]
*   [update][11]
    *   [Parameters][12]
*   [delete][13]
    *   [Parameters][14]
*   [airdropAccess][15]
    *   [Parameters][16]
*   [revokeAccess][17]
    *   [Parameters][18]
*   [changeAccess][19]
    *   [Parameters][20]
*   [members][21]
    *   [Parameters][22]

## get

### Parameters

*   `vaultId` **[string][23]**&#x20;
*   `options`   (optional, default `this.defaultGetOptions`)

Returns **any** Promise with the decrypted vault

## list

### Parameters

*   `options` **ListOptions**  (optional, default `this.defaultListOptions`)

Returns **any** Promise with paginated user vaults

## listAll

### Parameters

*   `options` **ListOptions**  (optional, default `this.defaultListOptions`)

Returns **any** Promise with currently authenticated user vaults

## create

### Parameters

*   `name` **[string][23]** new vault name
*   `options` **VaultCreateOptions** public/private, description, tags, etc. (optional, default `this.defaultCreateOptions`)

Returns **[Promise][24]\<Vault>** Promise with newly created vault

## rename

### Parameters

*   `id`  vault id
*   `name`  new vault name

Returns **any** Promise with vault object

## update

Update vault metadata: name, description, tags

### Parameters

*   `id`  vault id
*   `updates`  vault metadata updates

Returns **any** Promise with vault object

## delete

Delete the vault\
This action must be performed only for vault with no contents, it will fail if the vault is not empty.

### Parameters

*   `id`  vault id

Returns **[Promise][24]\<void>**&#x20;

## airdropAccess

Airdrop access to the vault directly through public keys

### Parameters

*   `vaultId` **[string][23]**&#x20;
*   `options` **MembershipAirdropOptions** airdrop options (optional, default `{role:DEFAULT_AIRDROP_ACCESS_ROLE}`)

Returns **Promsise\<Membership>** Promise with new membership

## revokeAccess

Revoke member access\
If private vault, vault keys will be rotated & distributed to all valid members

### Parameters

*   `id` **[string][23]** membership id

Returns **[Promise][24]\<void>**&#x20;

## changeAccess

### Parameters

*   `id` **[string][23]** membership id
*   `role` **RoleType** VIEWER/CONTRIBUTOR/OWNER

Returns **[Promise][24]\<Membership>**&#x20;

## members

Retrieve all vault members

### Parameters

*   `vaultId` **[string][23]**&#x20;

Returns **[Promise][24]<[Array][25]\<Membership>>**&#x20;

[1]: #get

[2]: #parameters

[3]: #list

[4]: #parameters-1

[5]: #listall

[6]: #parameters-2

[7]: #create

[8]: #parameters-3

[9]: #rename

[10]: #parameters-4

[11]: #update

[12]: #parameters-5

[13]: #delete

[14]: #parameters-6

[15]: #airdropaccess

[16]: #parameters-7

[17]: #revokeaccess

[18]: #parameters-8

[19]: #changeaccess

[20]: #parameters-9

[21]: #members

[22]: #parameters-10

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Zip

*   [uploader][1]
    *   [Parameters][2]
    *   [Examples][3]
*   [upload][4]
    *   [Parameters][5]

## uploader

Generate preconfigured Tus uploader

### Parameters

*   `vaultId` **[string][6]**&#x20;
*   `file` **FileSource** Nodejs: Buffer | Readable | string (path) | ArrayBuffer | Uint8Array
    Browser: File | Blob | Uint8Array | ArrayBuffer (optional, default `null`)
*   `options` **ZipUploadOptions** parent id (optional, default `{}`)

### Examples

```javascript
// use in Browser with Uppy upload

const uploader = tusky.zip.uploader(vaultId);

const uppy = new Uppy({
   restrictions: {
     allowedFileTypes: ['.zip', 'application/zip', 'application/x-zip-compressed'],
     maxFileSize: 1000000000,
   },
   autoProceed: false
 })
 .use(Tus, uploader.options);

uppy.addFile(file);
uppy.upload();
```

```javascript
// use in Nodejs

const uploader = tusky.zip.uploader(vaultId, file, {
   onSuccess: () => {
     console.log('Upload complete');
   },
   onError: (error) => {
     console.log('Upload error', error);
   },
   onProgress: (progress) => {
     console.log('Upload progress', progress);
   }
});

uploader.start();
```

Returns **[Promise][7]\<tus.Upload>** Promise with tus.Upload instance

## upload

Upload zip & unpack on server

### Parameters

*   `vaultId` **[string][6]**&#x20;
*   `file` **FileSource** Nodejs: Buffer | Readable | string (path) | ArrayBuffer | Uint8Array
    Browser: File | Blob | Uint8Array | ArrayBuffer
*   `options` **ZipUploadOptions** parent id (optional, default `{}`)

Returns **[Promise][7]<[string][6]>** Promise with upload id

[1]: #uploader

[2]: #parameters

[3]: #examples

[4]: #upload

[5]: #parameters-1

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Storage

*   [get][1]

## get

Get currenlty authenticated user storage balance

Returns **[Promise][2]\<Storage>**&#x20;

[1]: #get

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

